[
{
  "model": "connectors.event",
  "pk": 5,
  "fields": {
    "name": "Consent Withdrawal",
    "event_id": 8598566,
    "base_event_id": 1641942,
    "version": 4,
    "event_type": "custom",
    "description": "",
    "event_format": {
      "name": "Consent Withdrawal",
      "description": "Triggered when consent is withdrawn",
      "event_format": "JSON",
      "parameters": {
        "CPID": {
          "type": "string",
          "required": true,
          "description": "Document ID"
        },
        "PurposeIDs": {
          "type": "array",
          "required": true,
          "description": "List of purpose IDs",
          "items": {
            "type": "string"
          }
        }
      },
      "status": "active",
      "acknowledgement_enabled": true
    },
    "acknowledgement_enabled": true,
    "acknowledgement_type": "basic",
    "acknowledgement_status_code": 200,
    "acknowledgement_payload": {},
    "status": "active",
    "parameters": {
      "CPID": {
        "type": "string",
        "required": true,
        "description": "Document ID"
      },
      "PurposeIDs": {
        "type": "array",
        "required": true,
        "description": "List of purpose IDs",
        "items": {
          "type": "string"
        }
      }
    },
    "schema": {},
    "created_by": null,
    "created_at": "2025-12-22T07:54:31.833Z",
    "updated_at": "2025-12-22T07:58:44.769Z"
  }
},
{
  "model": "connectors.sequence",
  "pk": 2,
  "fields": {
    "name": "Test Flow",
    "sequence_id": 3730610,
    "sequence_type": "custom",
    "status": "active",
    "description": "",
    "flow_nodes": [
      {
        "id": "trigger_node",
        "type": "event_trigger",
        "position": {
          "x": 328,
          "y": -84
        },
        "data": {
          "triggerEvents": [
            {
              "id": 5,
              "created_by_username": null,
              "webhook_endpoint": "http://localhost:8000/api/events/5/test_webhook/",
              "name": "Consent Withdrawal",
              "event_id": 8598566,
              "base_event_id": 1641942,
              "version": 4,
              "event_type": "custom",
              "description": "",
              "event_format": {
                "name": "Consent Withdrawal",
                "description": "Triggered when consent is withdrawn",
                "event_format": "JSON",
                "parameters": {
                  "CPID": {
                    "type": "string",
                    "required": true,
                    "description": "Document ID"
                  },
                  "PurposeIDs": {
                    "type": "array",
                    "required": true,
                    "description": "List of purpose IDs",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "status": "active",
                "acknowledgement_enabled": true
              },
              "acknowledgement_enabled": true,
              "acknowledgement_type": "basic",
              "acknowledgement_status_code": 200,
              "acknowledgement_payload": {},
              "status": "active",
              "parameters": {
                "CPID": {
                  "type": "string",
                  "required": true,
                  "description": "Document ID"
                },
                "PurposeIDs": {
                  "type": "array",
                  "required": true,
                  "description": "List of purpose IDs",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "schema": {},
              "created_at": "2025-12-22T07:54:31.833966Z",
              "updated_at": "2025-12-22T07:58:44.769184Z",
              "created_by": null
            }
          ],
          "nodeType": "event_trigger",
          "isLocked": true
        },
        "draggable": true,
        "deletable": false,
        "width": 220,
        "height": 118,
        "selected": false,
        "positionAbsolute": {
          "x": 328,
          "y": -84
        },
        "dragging": false
      },
      {
        "id": "node_2",
        "type": "condition",
        "position": {
          "x": 393.63781261595665,
          "y": 173.39203482477984
        },
        "data": {
          "nodeType": "condition",
          "conditions": [],
          "conditionSets": [
            {
              "id": "set_1766390943705",
              "label": "CPID Equals ...",
              "conditions": [
                {
                  "id": "cond_1766390944874",
                  "variable": "@event.CPID",
                  "operator": "equals",
                  "valueType": "static",
                  "staticValue": "Sid",
                  "dynamicVariable": "",
                  "logicGate": null
                }
              ]
            }
          ]
        },
        "style": {},
        "width": 220,
        "height": 140,
        "selected": false,
        "positionAbsolute": {
          "x": 393.63781261595665,
          "y": 173.39203482477984
        },
        "dragging": false
      },
      {
        "id": "node_3",
        "type": "action",
        "position": {
          "x": 831.2800375003983,
          "y": 460.3705429457252
        },
        "data": {
          "nodeType": "action",
          "actionConfig": {
            "connectorId": 1,
            "connectorName": "Leegality Sandbox",
            "actionId": 8,
            "actionName": "Create Doc",
            "httpMethod": "POST",
            "credentialSetId": 1,
            "parameterMappings": {
              "path": {},
              "query": {},
              "headers": {},
              "body": {}
            },
            "mappingMode": {
              "path": "parameters",
              "query": "parameters",
              "headers": "parameters",
              "body": "parameters"
            },
            "dslExpressions": {
              "path": "",
              "query": "",
              "headers": "",
              "body": ""
            },
            "mappedParams": 0
          }
        },
        "style": {},
        "width": 220,
        "height": 144,
        "selected": false,
        "positionAbsolute": {
          "x": 831.2800375003983,
          "y": 460.3705429457252
        },
        "dragging": false
      },
      {
        "id": "node_4",
        "type": "action",
        "position": {
          "x": 329.96445612662194,
          "y": 491.75881727145367
        },
        "data": {
          "nodeType": "action",
          "actionConfig": {
            "connectorId": 1,
            "connectorName": "Leegality Sandbox",
            "actionId": 2,
            "actionName": "Get Document",
            "httpMethod": "GET",
            "credentialSetId": 1,
            "parameterMappings": {
              "path": {},
              "query": {
                "documentId": {
                  "type": "variable",
                  "value": "@event.@event.CPID"
                }
              },
              "headers": {},
              "body": {}
            },
            "mappingMode": {
              "path": "parameters",
              "query": "parameters",
              "headers": "parameters",
              "body": "parameters"
            },
            "dslExpressions": {
              "path": "",
              "query": "",
              "headers": "",
              "body": ""
            },
            "mappedParams": 1
          }
        },
        "style": {},
        "width": 220,
        "height": 171,
        "selected": false,
        "positionAbsolute": {
          "x": 329.96445612662194,
          "y": 491.75881727145367
        },
        "dragging": false
      },
      {
        "id": "node_5",
        "type": "custom_rule",
        "position": {
          "x": 404.8727965520891,
          "y": 854.2560617259098
        },
        "data": {
          "nodeType": "custom_rule",
          "customRuleConfig": {
            "name": "Call Webhook",
            "description": "",
            "code": " call action \"Link One\" from connector \"Public Webhook Link\" with {\n      body: {{node_4.body.data.document}}\n  } map response {\n      result: response\n  }"
          },
          "label": "Call Webhook"
        },
        "style": {},
        "width": 220,
        "height": 121,
        "selected": true,
        "dragging": false
      }
    ],
    "flow_edges": [
      {
        "animated": false,
        "style": {
          "stroke": "#93c5fd",
          "strokeWidth": 2
        },
        "source": "trigger_node",
        "sourceHandle": null,
        "target": "node_2",
        "targetHandle": null,
        "id": "reactflow__edge-trigger_node-node_2"
      },
      {
        "animated": false,
        "style": {
          "stroke": "#93c5fd",
          "strokeWidth": 2
        },
        "source": "node_2",
        "sourceHandle": "set-0",
        "target": "node_3",
        "targetHandle": null,
        "id": "reactflow__edge-node_2set-0-node_3"
      },
      {
        "animated": false,
        "style": {
          "stroke": "#93c5fd",
          "strokeWidth": 2
        },
        "source": "node_2",
        "sourceHandle": "else",
        "target": "node_4",
        "targetHandle": null,
        "id": "reactflow__edge-node_2else-node_4"
      },
      {
        "animated": false,
        "style": {
          "stroke": "#93c5fd",
          "strokeWidth": 2
        },
        "source": "node_4",
        "sourceHandle": null,
        "target": "node_5",
        "targetHandle": null,
        "id": "reactflow__edge-node_4-node_5"
      }
    ],
    "trigger_events": [
      5
    ],
    "version": "1.9000000000000008",
    "variables": [],
    "created_at": "2025-12-22T08:13:21.785Z",
    "updated_at": "2025-12-22T09:08:03.076Z",
    "created_by": null
  }
}
]
